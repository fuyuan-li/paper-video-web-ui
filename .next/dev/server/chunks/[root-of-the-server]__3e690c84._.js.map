{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/lfy_macbook_air/Documents/GitHub/gemini_hackathon/paper-video-web-ui/app/api/convert/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\n\n// TODO: Replace with your actual backend URL\nconst BACKEND_URL = \"https://your-backend-api.com/api/pdf-to-video\"\n\nexport async function POST(request: Request) {\n  try {\n    const formData = await request.formData()\n    const pdfFile = formData.get(\"pdf\") as File | null\n\n    if (!pdfFile) {\n      return NextResponse.json(\n        { error: \"No PDF file provided\" },\n        { status: 400 }\n      )\n    }\n\n    // Validate file type\n    if (pdfFile.type !== \"application/pdf\") {\n      return NextResponse.json(\n        { error: \"Invalid file type. Only PDF files are accepted.\" },\n        { status: 400 }\n      )\n    }\n\n    // Option 1: Forward the request to your backend\n    // Uncomment this section when you have a backend ready\n    /*\n    const backendFormData = new FormData()\n    backendFormData.append(\"pdf\", pdfFile)\n    \n    const backendResponse = await fetch(BACKEND_URL, {\n      method: \"POST\",\n      body: backendFormData,\n      // Add any authentication headers your backend requires\n      // headers: {\n      //   \"Authorization\": `Bearer ${process.env.BACKEND_API_KEY}`,\n      // },\n    })\n\n    if (!backendResponse.ok) {\n      const error = await backendResponse.json()\n      return NextResponse.json(\n        { error: error.message || \"Backend processing failed\" },\n        { status: backendResponse.status }\n      )\n    }\n\n    const data = await backendResponse.json()\n    return NextResponse.json(data)\n    */\n\n    // Option 2: Mock response for development/testing\n    // Remove this section when you have a real backend\n    // Simulating backend processing delay\n    await new Promise((resolve) => setTimeout(resolve, 2000))\n\n    // Mock response with sample video data\n    const mockVideos = [\n      {\n        id: \"video-1\",\n        title: \"Introduction - \" + pdfFile.name.replace(\".pdf\", \"\"),\n        url: \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\n        thumbnail: \"/thumbnails/video-1.jpg\",\n        duration: \"2:30\",\n      },\n      {\n        id: \"video-2\",\n        title: \"Key Points Overview\",\n        url: \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\",\n        thumbnail: \"/thumbnails/video-2.jpg\",\n        duration: \"3:15\",\n      },\n      {\n        id: \"video-3\",\n        title: \"Summary & Conclusion\",\n        url: \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4\",\n        thumbnail: \"/thumbnails/video-3.jpg\",\n        duration: \"1:45\",\n      },\n      {\n        id: \"video-4\",\n        title: \"Deep Dive Analysis\",\n        url: \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4\",\n        thumbnail: \"/thumbnails/video-4.jpg\",\n        duration: \"4:20\",\n      },\n      {\n        id: \"video-5\",\n        title: \"Case Studies\",\n        url: \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4\",\n        thumbnail: \"/thumbnails/video-5.jpg\",\n        duration: \"2:55\",\n      },\n      {\n        id: \"video-6\",\n        title: \"Final Thoughts\",\n        url: \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4\",\n        thumbnail: \"/thumbnails/video-6.jpg\",\n        duration: \"1:30\",\n      },\n    ]\n\n    return NextResponse.json({\n      success: true,\n      message: \"PDF converted successfully\",\n      videos: mockVideos,\n    })\n  } catch (error) {\n    console.error(\"Error processing PDF:\", error)\n    return NextResponse.json(\n      { error: \"Failed to process PDF\" },\n      { status: 500 }\n    )\n  }\n}\n\n/*\nExpected Backend Response Format:\n{\n  \"success\": true,\n  \"message\": \"PDF converted successfully\",\n  \"videos\": [\n    {\n      \"id\": \"unique-video-id\",\n      \"title\": \"Video Title\",\n      \"url\": \"https://your-cdn.com/videos/video-1.mp4\",\n      \"thumbnail\": \"https://your-cdn.com/thumbnails/video-1.jpg\",\n      \"duration\": \"2:30\"\n    },\n    // ... more video clips\n  ]\n}\n*/\n"],"names":[],"mappings":";;;;AAAA;;AAEA,6CAA6C;AAC7C,MAAM,cAAc;AAEb,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,WAAW,MAAM,QAAQ,QAAQ;QACvC,MAAM,UAAU,SAAS,GAAG,CAAC;QAE7B,IAAI,CAAC,SAAS;YACZ,OAAO,0NAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,qBAAqB;QACrB,IAAI,QAAQ,IAAI,KAAK,mBAAmB;YACtC,OAAO,0NAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAkD,GAC3D;gBAAE,QAAQ;YAAI;QAElB;QAEA,gDAAgD;QAChD,uDAAuD;QACvD;;;;;;;;;;;;;;;;;;;;;;;IAuBA,GAEA,kDAAkD;QAClD,mDAAmD;QACnD,sCAAsC;QACtC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,uCAAuC;QACvC,MAAM,aAAa;YACjB;gBACE,IAAI;gBACJ,OAAO,oBAAoB,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;gBACxD,KAAK;gBACL,WAAW;gBACX,UAAU;YACZ;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,KAAK;gBACL,WAAW;gBACX,UAAU;YACZ;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,KAAK;gBACL,WAAW;gBACX,UAAU;YACZ;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,KAAK;gBACL,WAAW;gBACX,UAAU;YACZ;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,KAAK;gBACL,WAAW;gBACX,UAAU;YACZ;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,KAAK;gBACL,WAAW;gBACX,UAAU;YACZ;SACD;QAED,OAAO,0NAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;YACT,QAAQ;QACV;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,0NAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF,EAEA;;;;;;;;;;;;;;;;AAgBA"}}]
}